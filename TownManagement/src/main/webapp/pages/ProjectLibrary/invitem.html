<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>招商项目</title>
</head>
<!-- select CSS -->
<link href="../dist/css/bootstrap-select.css" rel="stylesheet">
<!-- 表单验证 -->
<link rel="stylesheet" href="../dist/css/bootstrapValidator.css" />
<!-- 时间插件 -->
<link rel="stylesheet" href="../css/bootstrap-datetimepicker.css" />
<body>
	<div class="row">
		<div class="col-lg-12">
			<h3 class="page-header">招商项目信息</h3>
		</div>
	</div>
	<div class="panel panel-default">
		<div class="panel-body">
			<form class="form-horizontal" role="form" id="invitem">
				<!-- 表单 -->
				<div class="form-group">
					<!-- 一行行开始写 -->
					<label class="col-sm-2 control-label">政府招商项目名称</label>
					<div class="col-sm-6">
						<input id="invname" name="invname" class="form-control"
							type="text" placeholder="请填写项目名称" />
					</div>
					<label class="col-sm-2 control-label">项目编号</label>
					<div class="col-sm-2">
						<input id="invnumber" name="invnumber" class="form-control"
							placeholder="自动生成" />
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">所属地区</label>
					<div class="col-sm-2">
						<input id="invarea" name="invarea" class="form-control"
							type="text">
					</div>
					<label class="col-sm-2 control-label">所在镇/街道/开发区</label>
					<div class="col-sm-2">
						<input id="invlocal" name="invlocal" class="form-control"
							type="text">
					</div>
					<label class="col-sm-2 control-label">合作方式</label>
					<div class="col-sm-2">
						<select name="invjoinway" id="invjoinway"
							class="selectpicker show-tick form-control">
							<option></option>
							<option value="租凭">租凭</option>
							<option value="购置">购置</option>
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">主管单位</label>
					<div class="col-sm-10">
						<input id="invcharge" name="invcharge" class="form-control"
							type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">所属行业</label>
					<div class="col-sm-10">
						<input id="invindustry" name="invindustry" class="form-control"
							type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">用地规模</label>
					<div class="col-sm-2">
						<input id="invlandscale" name="invlandscale" class="form-control"
							type="text" placeholder="亩">
					</div>
					<label class="col-sm-2 control-label">容积率</label>
					<div class="col-sm-2">
						<input id="invplotratio" name="invplotratio" class="form-control"
							type="text">
					</div>
					<label class="col-sm-2 control-label">规划用途</label>
					<div class="col-sm-2">
						<input id="invplanuse" name="invplanuse" class="form-control"
							type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">投资强度</label>
					<div class="col-sm-2">
						<input id="investment" name="investment" class="form-control"
							type="text" placeholder="万元/亩">
					</div>
					<label class="col-sm-2 control-label">投资总额</label>
					<div class="col-sm-2">
						<input id="investmentall" name="investmentall"
							class="form-control" type="text" placeholder="亿元">
					</div>
					<label class="col-sm-2 control-label">预计建设期</label>
					<div class="col-sm-2">
						<input id="invexpectbuild" name="invexpectbuild"
							class="form-control" type="text" placeholder="月">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">规划地址</label>
					<div class="col-sm-10">
						<input id="invplanaddress" name="invplanaddress"
							class="form-control" type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">建设内容</label>
					<div class="col-sm-10">
						<input id="invbuildcontent" name="invbuildcontent"
							class="form-control" type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">建设条件</label>
					<div class="col-sm-10">
						<input id="invbuildcondition" name="invbuildcondition"
							class="form-control" type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">优惠政策</label>
					<div class="col-sm-10">
						<input id="invincentives" name="invincentives"
							class="form-control" type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">要素分析</label>
					<div class="col-sm-10">
						<input id="invessential" name="invessential" class="form-control"
							type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">效益分析</label>
					<div class="col-sm-10">
						<input id="invbenefit" name="invbenefit" class="form-control"
							type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">备注</label>
					<div class="col-sm-10">
						<input id="invremark" name="invremark" class="form-control"
							type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">联系单位</label>
					<div class="col-sm-2">
						<input id="invunit" name="invunit" class="form-control"
							type="text">
					</div>
					<label class="col-sm-2 control-label">联系人</label>
					<div class="col-sm-2">
						<input id="invcontact" name="invcontact" class="form-control"
							type="text">
					</div>
					<label class="col-sm-2 control-label">联系方式</label>
					<div class="col-sm-2">
						<input id="invcontactway" name="invcontactway"
							class="form-control" type="text">
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-5 control-label"></label>
					<button type="button" id="invitem_update"
						class="col-sm-2 btn btn-primary"
						style="width: auto; min-width: 90px; margin-top: 20px;display:none;">更新</button>
					<label class="col-sm-5 control-label"></label>
					<input type="hidden" value="" name="invid" id="invid">
				</div>
			</form>
		</div>
	</div>
	<!-- Select JavaScript -->
	<script src="../dist/js/bootstrap-select.js"></script>
	<!-- 表单验证 -->
	<script type="text/javascript" src="../dist/js/bootstrapValidator.js"></script>
	<script type="text/javascript" src="../dist/js/language/zh_CN.js"></script>
	<!-- 时间插件 -->
	<script type="text/javascript" src="../js/bootstrap-datetimepicker.js"></script>
	<script type="text/javascript" src="../js/locales/bootstrap-datetimepicker.zh-CN.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			//初始化下拉框
			$('.selectpicker').selectpicker({
				noneSelectedText : "请选择"
			});
			//区域性项目表单更新
			$('#invitem_update').click(function() {
				$('#invitem').data('bootstrapValidator').validate();
				if (!$('#invitem').data('bootstrapValidator').isValid()) {
					return;
					}
				/*ie11一下不支持，formdata的方法  */
				var formData = new FormData($("#invitem")[0]);
				$.ajax({
					type : "post",
					url : "../invitemmanage/updateinv",
					data : formData,
					dataType : 'JSON',
					cache : false,
					processData : false,
					contentType : false,
					success : function(data,status) {
						if (data.returnInfo == "success") {
							$("#invmodal").modal('hide');
							setTimeout(function(){
								$("#inv-success").modal('show');
								$('#invManage').bootstrapTable('refresh');
							},200);
						} else {
							$("#inv-fail").modal('show');
						}
					},
					error : function() {
						$("#inv-fail").modal('show');
					}
				});
			});
			//政府招商项目
			$('#invitem').bootstrapValidator({
				message : 'This value is not valid',
				excluded : [ ':disabled' ],
				feedbackIcons : {
					valid : 'glyphicon glyphicon-ok',
					invalid : 'glyphicon glyphicon-remove',
					validating : 'glyphicon glyphicon-refresh'
				},
				fields : {
					invname : {
						validators : {
							notEmpty : {
								message : '项目名称不能为空'
							}
						}
					},
					invnumber : {
						validators : {
							notEmpty : {
								message : '编号不能为空'
							},
							regexp : {
								regexp : /^[0-9]*$/,
								message : '请输入整数'
							}
						}
					},
					invarea : {
						validators : {
							notEmpty : {
								message : '所属地区不能为空'
							}
						}
					},
					invlocal : {
						validators : {
							notEmpty : {
								message : '所在地不能为空'
							}
						}
					},
					invjoinway : {
						validators : {
							notEmpty : {
								message : '合作方式不能为空'
							}
						}
					},
					invcharge : {
						validators : {
							notEmpty : {
								message : '主管单位不能为空'
							}
						}
					},
					invindustry : {
						validators : {
							notEmpty : {
								message : '所属行业不能为空'
							}
						}
					},
					invlandscale : {
						validators : {
							notEmpty : {
								message : '用地规模不能为空'
							},
							regexp : {
								regexp : /^[0-9]+(.[0-9]{1,3})?$/,
								message : '请输入最多3位小数的数字'
							}
						}
					},
					invplotratio : {
						validators : {
							notEmpty : {
								message : '容积率不能为空'
							},
							regexp : {
								regexp : /^[0-9]+(.[0-9]{1,3})?$/,
								message : '请输入最多3位小数的数字'
							}
						}
					},
					invplanuse : {
						validators : {
							notEmpty : {
								message : '规划用途不能为空'
							}
						}
					},
					investment : {
						validators : {
							notEmpty : {
								message : '投资强度不能为空'
							},
							regexp : {
								regexp : /^[0-9]+(.[0-9]{1,3})?$/,
								message : '请输入最多3位小数的数字'
							}
						}
					},
					investmentall : {
						validators : {
							notEmpty : {
								message : '投资总额不能为空'
							},
							regexp : {
								regexp : /^[0-9]+(.[0-9]{1,3})?$/,
								message : '请输入最多3位小数的数字'
							}
						}
					},
					invexpectbuild : {
						validators : {
							notEmpty : {
								message : '预计建设期不能为空'
							},
							regexp : {
								regexp : /^[0-9]+(.[0-9]{1,3})?$/,
								message : '请输入最多3位小数的数字'
							}
						}
					},
					invplanaddress : {
						validators : {
							notEmpty : {
								message : '规划地址不能为空'
							}
						}
					},
					invbuildcontent : {
						validators : {
							notEmpty : {
								message : '建设内容不能为空'
							}
						}
					},
					invbuildcondition : {
						validators : {
							notEmpty : {
								message : '建设条件不能为空'
							}
						}
					},
					invincentives : {
						validators : {
							notEmpty : {
								message : '优惠政策不能为空'
							}
						}
					},
					invessential : {
						validators : {
							notEmpty : {
								message : '要素分析不能为空'
							}
						}
					},
					invbenefit : {
						validators : {
							notEmpty : {
								message : '效益分析不能为空'
							}
						}
					},
					invunit : {
						validators : {
							notEmpty : {
								message : '联系单位不能为空'
							}
						}
					},
					invcontact : {
						validators : {
							notEmpty : {
								message : '联系人不能为空'
							}
						}
					},
					invcontactway : {
						validators : {
							notEmpty : {
								message : '联系方式不能为空'
							}
						}
					}
				}
			});
		})
	</script>
</body>
</html>